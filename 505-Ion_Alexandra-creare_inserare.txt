CREATE SEQUENCE NEXT_ID_FURNIZOR
INCREMENT by 1
START WITH 100
MAXVALUE 99999
NOCYCLE;

CREATE TABLE FURNIZOR (
    id_furnizor  number(5) NOT NULL PRIMARY KEY, 
    denumirea char(25),
    telefon  char(10) constraint telefon unique, 
    email char(30), 
    unique(email)
);

INSERT INTO FURNIZOR VALUES (NEXT_ID_FURNIZOR.NEXTVAL, 'EMAG','0728282106','contact@emag.ro');
INSERT INTO FURNIZOR VALUES (NEXT_ID_FURNIZOR.NEXTVAL, 'OptimusDigital','0728282107','contact@optidigi.ro');
INSERT INTO FURNIZOR VALUES (NEXT_ID_FURNIZOR.NEXTVAL, 'HobbyMarket','0721516130','contact@hobby.ro');
INSERT INTO FURNIZOR VALUES (NEXT_ID_FURNIZOR.NEXTVAL, 'Printam3D','0721216130','contact@3D.ro');
INSERT INTO FURNIZOR VALUES (NEXT_ID_FURNIZOR.NEXTVAL, 'CEL','0372245334','contact@cel.ro');
INSERT INTO FURNIZOR VALUES (NEXT_ID_FURNIZOR.NEXTVAL, 'ArduShop','0727387467','contact@ardu.ro');
COMMIT;

select * from furnizor;

CREATE SEQUENCE NEXT_ID_IMPRIMANTE
INCREMENT by 10
START WITH 10
MAXVALUE 99999
NOCYCLE;

CREATE TABLE IMPRIMANTE (
    id_imprimanta  number(5) NOT NULL PRIMARY KEY, 
    nume char(25),
    dimensiune_pat  number(5)   
);


INSERT INTO IMPRIMANTE VALUES (NEXT_ID_IMPRIMANTE.NEXTVAL, 'Odysseuss',625);
INSERT INTO IMPRIMANTE VALUES (NEXT_ID_IMPRIMANTE.NEXTVAL, 'TevoTornado',900);
INSERT INTO IMPRIMANTE VALUES (NEXT_ID_IMPRIMANTE.NEXTVAL, 'Anycubic',600);
INSERT INTO IMPRIMANTE VALUES (NEXT_ID_IMPRIMANTE.NEXTVAL, 'Odysseuss',1000);
INSERT INTO IMPRIMANTE VALUES (NEXT_ID_IMPRIMANTE.NEXTVAL, 'Prusa',900);
INSERT INTO IMPRIMANTE VALUES (NEXT_ID_IMPRIMANTE.NEXTVAL, 'MakerBot',2500);

COMMIT;

CREATE SEQUENCE NEXT_ID_CULORI
INCREMENT by 1
START WITH 1
MAXVALUE 99999
NOCYCLE;

CREATE TABLE CULORI (
    id_culoare  number(5) NOT NULL PRIMARY KEY, 
    nume char(25)
);


INSERT INTO CULORI VALUES (NEXT_ID_CULORI.NEXTVAL, 'Alb');
INSERT INTO CULORI VALUES (NEXT_ID_CULORI.NEXTVAL, 'Verde primavara');
INSERT INTO CULORI VALUES (NEXT_ID_CULORI.NEXTVAL, 'Negru');
INSERT INTO CULORI VALUES (NEXT_ID_CULORI.NEXTVAL, 'Rosu caramiziu');
INSERT INTO CULORI VALUES (NEXT_ID_CULORI.NEXTVAL, 'Rosu foc');
INSERT INTO CULORI VALUES (NEXT_ID_CULORI.NEXTVAL, 'Auriu');

COMMIT;

CREATE SEQUENCE NEXT_ID_FILAMENT
INCREMENT by 1
START WITH 100
MAXVALUE 99999
NOCYCLE;

CREATE TABLE FILAMENT (
    id_filament  number(5) NOT NULL PRIMARY KEY, 
    tip char(4) NOT NULL,
    temperatura_topire number(4),
    gramaj number(4)
);


INSERT INTO FILAMENT VALUES (NEXT_ID_FILAMENT.NEXTVAL, 'PLA',200,500);
INSERT INTO FILAMENT VALUES (NEXT_ID_FILAMENT.NEXTVAL, 'TPU',250,500);
INSERT INTO FILAMENT VALUES (NEXT_ID_FILAMENT.NEXTVAL, 'PLA',230,1000);
INSERT INTO FILAMENT VALUES (NEXT_ID_FILAMENT.NEXTVAL, 'ABS',180,500);
INSERT INTO FILAMENT VALUES (NEXT_ID_FILAMENT.NEXTVAL, 'PETG',330,250);
INSERT INTO FILAMENT VALUES (NEXT_ID_FILAMENT.NEXTVAL, 'PLA',NULL,500);

COMMIT;


CREATE SEQUENCE NEXT_ID_CATEGORIE
INCREMENT by 1
START WITH 100
MAXVALUE 99999
NOCYCLE;
CREATE TABLE CATEGORIE (
    id_categorie  number(5) NOT NULL PRIMARY KEY, 
    nume char(25), 
    unique(nume)
);


INSERT INTO CATEGORIE VALUES (NEXT_ID_CATEGORIE.NEXTVAL, 'Home');
INSERT INTO CATEGORIE VALUES (NEXT_ID_CATEGORIE.NEXTVAL, 'Lithophane');
INSERT INTO CATEGORIE VALUES (NEXT_ID_CATEGORIE.NEXTVAL, 'Suport Telefon');
INSERT INTO CATEGORIE VALUES (NEXT_ID_CATEGORIE.NEXTVAL, 'Produse Caini');
INSERT INTO CATEGORIE VALUES (NEXT_ID_CATEGORIE.NEXTVAL, 'Puzzle');
INSERT INTO CATEGORIE VALUES (NEXT_ID_CATEGORIE.NEXTVAL, 'Licheni');

COMMIT;

CREATE SEQUENCE NEXT_ID_CLIENTI
INCREMENT by 1
START WITH 100
MAXVALUE 99999
NOCYCLE;


CREATE TABLE CLIENTI (
    id_client  number(5) NOT NULL PRIMARY KEY, 
    nume char(25) NOT NULL,
    prenume char(25) NOT NULL,
    telefon   RAW(128) NOT NULL, 
    email  RAW(128) NOT NULL, 
    unique(email,telefon)
);

--INSERT INTO CLIENTI VALUES (NEXT_ID_CLIENTI.NEXTVAL, 'Ion','Alexandra','0728282106','alexion200123@yahoo.com');
--INSERT INTO CLIENTI VALUES (NEXT_ID_CLIENTI.NEXTVAL, 'Dinu','Cristian','0724702608','dinuc02@yahoo.com');
--INSERT INTO CLIENTI VALUES (NEXT_ID_CLIENTI.NEXTVAL, 'Vulpe','Catalin','0785212833','vulpea69@gmail.com');
--INSERT INTO CLIENTI VALUES (NEXT_ID_CLIENTI.NEXTVAL, 'Dinca','Ruxandra','0721283488','ruxi23@yahoo.com');
--INSERT INTO CLIENTI VALUES (NEXT_ID_CLIENTI.NEXTVAL, 'Rotaru','Cristina','0700569254','cristina_rotaru32@yahoo.com');
--INSERT INTO CLIENTI VALUES (NEXT_ID_CLIENTI.NEXTVAL, 'Iacob','Andreea','0721385065','icob_andreea@yahoo.com');

COMMIT;

CREATE SEQUENCE NEXT_ID_PRODUSE
INCREMENT by 1
START WITH 119
MAXVALUE 99999
NOCYCLE;


CREATE TABLE PRODUSE (
    id_produs  number(5) NOT NULL PRIMARY KEY, 
    id_categorie  number(5),
    id_filament  number(5),
    nume char(25) NOT NULL,
    pret_vanzare number(3) NOT NULL,
    cost_producere number(3),
    cantitate_filament number(4) NOT NULL,
    dimensiune number(5) NOT NULL,
    greutate number(5),
    personalizabil number(1)  DEFAULT 0,
constraint id_categorie FOREIGN KEY(id_categorie) REFERENCES CATEGORIE(id_categorie),
constraint id_filament FOREIGN KEY(id_filament) REFERENCES FILAMENT(id_filament)
);

select * from produse;

INSERT INTO PRODUSE VALUES (NEXT_ID_PRODUSE.NEXTVAL,102 ,101,'Lampa',120,50,30,25,80,1);
INSERT INTO PRODUSE VALUES (NEXT_ID_PRODUSE.NEXTVAL,101 ,101,'Suport chei',50,NULL,15,25,80,1);
INSERT INTO PRODUSE VALUES (NEXT_ID_PRODUSE.NEXTVAL,102 ,103,'Cub',100,NULL,30,900,NULL,0);
INSERT INTO PRODUSE VALUES (NEXT_ID_PRODUSE.NEXTVAL,103 ,100,'Suport cu incarcator',12,NULL,30,25,50,0);
INSERT INTO PRODUSE VALUES (NEXT_ID_PRODUSE.NEXTVAL,100,102,'Tablou licheni',40,NULL,30,800,NULL,0);
INSERT INTO PRODUSE VALUES (NEXT_ID_PRODUSE.NEXTVAL,100 ,105,'Terariu',70,50,30,40,NULL,0);
INSERT INTO PRODUSE VALUES (NEXT_ID_PRODUSE.NEXTVAL,104 ,102,'Mingie',10,3,30,9,30,0);
INSERT INTO PRODUSE VALUES (NEXT_ID_PRODUSE.NEXTVAL,101 ,104,'Oaie-suport',30,5,10,10,NULL,0);
INSERT INTO PRODUSE VALUES (NEXT_ID_PRODUSE.NEXTVAL,105 ,100,'Cutie labirint',24,10,5,9,10,0);


COMMIT;


CREATE SEQUENCE NEXT_ID_COMENZI
INCREMENT by 1
START WITH 10
MAXVALUE 99999
NOCYCLE;

CREATE TABLE COMENZI (
    id_comanda  number(5) NOT NULL PRIMARY KEY, 
    id_client number(5), 
    data date NOT NULL,
    valoarea number(4) NOT NULL,
    constraint id_client FOREIGN KEY(id_client) REFERENCES CLIENTI(id_client)
);
SELECT * FROM CLIENTI;

INSERT INTO COMENZI VALUES ( NEXT_ID_COMENZI.NEXTVAL, 101 ,to_date('10-05-2021', 'dd-mm-yyyy'),150);
INSERT INTO COMENZI VALUES ( NEXT_ID_COMENZI.NEXTVAL, 102 ,to_date('15-04-2021', 'dd-mm-yyyy'),30);
INSERT INTO COMENZI VALUES ( NEXT_ID_COMENZI.NEXTVAL, 104 ,to_date('10-05-2021', 'dd-mm-yyyy'),120);
INSERT INTO COMENZI VALUES ( NEXT_ID_COMENZI.NEXTVAL, 103 ,to_date('25-03-2020', 'dd-mm-yyyy'),240);
INSERT INTO COMENZI VALUES ( NEXT_ID_COMENZI.NEXTVAL, 105 ,to_date('12-12-2020', 'dd-mm-yyyy'),120);
INSERT INTO COMENZI VALUES ( NEXT_ID_COMENZI.NEXTVAL, 101 ,to_date('30-01-2021', 'dd-mm-yyyy'),12);
INSERT INTO COMENZI VALUES ( NEXT_ID_COMENZI.NEXTVAL, 100 ,to_date('30-05-2021', 'dd-mm-yyyy'),24);
INSERT INTO COMENZI VALUES ( NEXT_ID_COMENZI.NEXTVAL,100 ,to_date('30-06-2021', 'dd-mm-yyyy'),170);

COMMIT;

    CREATE TABLE ANGAJATI (
    id_angajat  number(5) NOT NULL PRIMARY KEY, 
    nume char(25) NOT NULL,
    prenume char(25) NOT NULL,
    job char(25) NOT NULL,
    telefon  RAW(128) NOT NULL , 
    salariu RAW(128) NOT NULL,
    data_angajarii RAW(128) NOT NULL,
    aplicatie char(25),
    UNIQUE(telefon),
    id_manager number(5)
    
);


CREATE SEQUENCE NEXT_ID_ANGAJATI
INCREMENT by 1
START WITH 100
MAXVALUE 99999
NOCYCLE;

--INSERT INTO ANGAJATI VALUES (NEXT_ID_ANGAJATI.NEXTVAL, 'Ion','Loredana','executant','0245222162',1500,to_date('10-05-2021', 'dd-mm-yyyy'),NULL,null);
--INSERT INTO ANGAJATI VALUES (NEXT_ID_ANGAJATI.NEXTVAL, 'Andreescu','Daiana','proiectant','0745222163',1800,to_date('09-01-2010', 'dd-mm-yyyy'),'Fusion360',100);
--INSERT INTO ANGAJATI VALUES (NEXT_ID_ANGAJATI.NEXTVAL, 'Ramond','Liliana','agent','0745228182',3000,to_date('14-06-2019', 'dd-mm-yyyy'),NULL,101);
--INSERT INTO ANGAJATI VALUES (NEXT_ID_ANGAJATI.NEXTVAL, 'Flo','Luis','proiectant','0245552168',4500,to_date('25-05-2018', 'dd-mm-yyyy'),'Creo',101);
--INSERT INTO ANGAJATI VALUES (NEXT_ID_ANGAJATI.NEXTVAL, 'Dan','Cornelia','proiectant','0243722175',1500,to_date('11-08-2019', 'dd-mm-yyyy'),'Fusion360',101);
--INSERT INTO ANGAJATI VALUES (NEXT_ID_ANGAJATI.NEXTVAL, 'Remus','Denis','executant','0245722196',6500,to_date('10-05-2015', 'dd-mm-yyyy'),NULL,101);
--INSERT INTO ANGAJATI VALUES (NEXT_ID_ANGAJATI.NEXTVAL, 'Ion','Gabriel','agent','0712125866',3000,to_date('14-06-2020', 'dd-mm-yyyy'),NULL,101);

COMMIT;

SELECT * FROM CLIENTI;


CREATE TABLE RECENZIE (
    id_recenzie  number(5) NOT NULL PRIMARY KEY, 
    id_produs  number(5),
    id_client  number(5),
    nr_stelute char(5) NOT NULL,
constraint fk_id_produs FOREIGN KEY(id_produs) REFERENCES PRODUSE(id_produs),
constraint fk_id_client FOREIGN KEY(id_client) REFERENCES CLIENTI(id_client)
);


CREATE SEQUENCE NEXT_ID_RECENZIE
INCREMENT by 1
START WITH 100
MAXVALUE 99999
NOCYCLE;

INSERT INTO RECENZIE VALUES (NEXT_ID_RECENZIE.NEXTVAL,119 ,101,'*****');
INSERT INTO RECENZIE VALUES (NEXT_ID_RECENZIE.NEXTVAL,122 ,103,'***');
INSERT INTO RECENZIE VALUES (NEXT_ID_RECENZIE.NEXTVAL,124 ,101,'*');
INSERT INTO RECENZIE VALUES (NEXT_ID_RECENZIE.NEXTVAL,123 ,104,'*****');
INSERT INTO RECENZIE VALUES (NEXT_ID_RECENZIE.NEXTVAL,126 ,100,'***');
INSERT INTO RECENZIE VALUES (NEXT_ID_RECENZIE.NEXTVAL,120 ,100,'****');

COMMIT;

CREATE TABLE ACHIZITIE (
    data date, 
    id_furnizor  number(5),
    id_filament  number(5),
   
constraint fk_furnizor FOREIGN KEY(id_furnizor) REFERENCES FURNIZOR(id_furnizor),
constraint fk_filament FOREIGN KEY(id_filament) REFERENCES FILAMENT(id_filament),
constraint pk_compus  PRIMARY KEY(id_filament,id_furnizor,data)
);


INSERT INTO ACHIZITIE VALUES(to_date('12-05-2020', 'dd-mm-yyyy'), 102, 101 );
INSERT INTO ACHIZITIE VALUES(to_date('25-06-2021', 'dd-mm-yyyy'), 102, 103 );
INSERT INTO ACHIZITIE VALUES(to_date('03-01-2020', 'dd-mm-yyyy'), 102, 101 );
INSERT INTO ACHIZITIE VALUES(to_date('11-05-2021', 'dd-mm-yyyy'), 103, 100 );
INSERT INTO ACHIZITIE VALUES(to_date('02-08-2019', 'dd-mm-yyyy'), 104, 102 );
INSERT INTO ACHIZITIE VALUES(to_date('01-05-2021', 'dd-mm-yyyy'), 100, 104 );
INSERT INTO ACHIZITIE VALUES(to_date('12-12-2020', 'dd-mm-yyyy'), 105, 105 );
INSERT INTO ACHIZITIE VALUES(to_date('24-03-2021', 'dd-mm-yyyy'), 100, 102 );
INSERT INTO ACHIZITIE VALUES(to_date('12-12-2020', 'dd-mm-yyyy'), 101, 105 );
INSERT INTO ACHIZITIE VALUES(to_date('12-05-2020', 'dd-mm-yyyy'), 101, 105 );
INSERT INTO ACHIZITIE VALUES(to_date('12-04-2019', 'dd-mm-yyyy'), 103, 105 );

commit;

CREATE TABLE COMPATIBILITATE (
    id_imprimanta  number(5),
    id_filament  number(5),
   
constraint fk_imprimanta FOREIGN KEY(id_imprimanta) REFERENCES IMPRIMANTE(id_imprimanta),
constraint fk_fil FOREIGN KEY(id_filament) REFERENCES FILAMENT(id_filament),
constraint pk_compus_comp  PRIMARY KEY(id_filament,id_imprimanta)
);

SELECT * FROM IMPRIMANTE;

INSERT INTO COMPATIBILITATE VALUES(20, 104 );
INSERT INTO COMPATIBILITATE VALUES(30, 105 );
INSERT INTO COMPATIBILITATE VALUES(30, 101 );
INSERT INTO COMPATIBILITATE VALUES(30, 100 );
INSERT INTO COMPATIBILITATE VALUES(40, 102 );
INSERT INTO COMPATIBILITATE VALUES(50, 102 );
INSERT INTO COMPATIBILITATE VALUES(50, 103 );
INSERT INTO COMPATIBILITATE VALUES(60, 100 );
INSERT INTO COMPATIBILITATE VALUES(60, 102 );
INSERT INTO COMPATIBILITATE VALUES(10, 104 );
INSERT INTO COMPATIBILITATE VALUES(10, 103 );
commit;

CREATE TABLE CULOARE_FILAMENT (
    id_filament  number(5),
    id_culoare  number(5),
   
constraint fk_culoare FOREIGN KEY(id_culoare) REFERENCES CULORI(id_culoare),
constraint fk_filam FOREIGN KEY(id_filament) REFERENCES FILAMENT(id_filament),
constraint pk_compus_fil  PRIMARY KEY(id_filament,id_culoare)
);



INSERT INTO CULOARE_FILAMENT VALUES(101, 2 );
INSERT INTO CULOARE_FILAMENT VALUES(102, 6 );
INSERT INTO CULOARE_FILAMENT VALUES(103, 4 );
INSERT INTO CULOARE_FILAMENT VALUES(104, 3 );
INSERT INTO CULOARE_FILAMENT VALUES(105, 2 );
INSERT INTO CULOARE_FILAMENT VALUES(100, 6 );
INSERT INTO CULOARE_FILAMENT VALUES(104, 5 );
INSERT INTO CULOARE_FILAMENT VALUES(104, 4 );
INSERT INTO CULOARE_FILAMENT VALUES(102, 3 );
INSERT INTO CULOARE_FILAMENT VALUES(105, 5 );
INSERT INTO CULOARE_FILAMENT VALUES(103, 5 );
INSERT INTO CULOARE_FILAMENT VALUES(100, 2 );

COMMIT;

CREATE TABLE REALIZARE (
    id_produs  number(5),
    id_proiectant  number(5),
    id_executant  number(5),
    durata number(4),
constraint fk_produs FOREIGN KEY(id_produs) REFERENCES PRODUSE(id_produs),
constraint fk_proiectant FOREIGN KEY(id_proiectant) REFERENCES ANGAJATI(id_angajat),
constraint fk_executant FOREIGN KEY( id_executant) REFERENCES ANGAJATI(id_angajat),
constraint pk_compus_realiz  PRIMARY KEY(id_produs, id_executant,id_proiectant)
);
SELECT * FROM ANGAJATI;
INSERT INTO REALIZARE VALUES(119,102,106,850 );
INSERT INTO REALIZARE VALUES(120,104,101,200 );
INSERT INTO REALIZARE VALUES(121,105,101,45 );
INSERT INTO REALIZARE VALUES(122,105,106,80 );
INSERT INTO REALIZARE VALUES(123,104,106,96 );
INSERT INTO REALIZARE VALUES(124,104,106,1500 );
INSERT INTO REALIZARE VALUES(125,104,106,450 );
INSERT INTO REALIZARE VALUES(126,105,101,200 );
INSERT INTO REALIZARE VALUES(124,102,101,15 );
INSERT INTO REALIZARE VALUES(121,102,101,45 );
INSERT INTO REALIZARE VALUES(124,104,101,1500 );

commit;

CREATE TABLE COMUNICARE (
    id_client  number(5),
    id_agent  number(5),

constraint fk_client FOREIGN KEY(id_client) REFERENCES CLIENTI(id_client),
constraint fk_agent FOREIGN KEY(id_agent) REFERENCES ANGAJATI(id_angajat),
constraint pk_compus_com  PRIMARY KEY(id_client, id_agent)
);

INSERT INTO COMUNICARE VALUES(101,103);
INSERT INTO COMUNICARE VALUES(102,103);
INSERT INTO COMUNICARE VALUES(103,103);
INSERT INTO COMUNICARE VALUES(104,103);
INSERT INTO COMUNICARE VALUES(105,103);
INSERT INTO COMUNICARE VALUES(106,103);
INSERT INTO COMUNICARE VALUES(103,106);
INSERT INTO COMUNICARE VALUES(104,106);
INSERT INTO COMUNICARE VALUES(105,106);

commit;

CREATE TABLE CUPRINS_COMENZI (
    id_comanda  number(5),
    id_produs  number(5),
    bucati number(3),

constraint fk_comanda FOREIGN KEY(id_comanda) REFERENCES COMENZI(id_comanda),
constraint fk_prod FOREIGN KEY(id_produs) REFERENCES PRODUSE(id_produs),
constraint pk_compus_cuprins  PRIMARY KEY(id_comanda, id_produs)
);



INSERT INTO CUPRINS_COMENZI VALUES(10,120,1);
INSERT INTO CUPRINS_COMENZI VALUES(10,121,1);
INSERT INTO CUPRINS_COMENZI VALUES(11,126,1);
INSERT INTO CUPRINS_COMENZI VALUES(12,119,1);
INSERT INTO CUPRINS_COMENZI VALUES(13,119,2);
INSERT INTO CUPRINS_COMENZI VALUES(14,119,1);
INSERT INTO CUPRINS_COMENZI VALUES(15,122,1);
INSERT INTO CUPRINS_COMENZI VALUES(16,124,1);
INSERT INTO CUPRINS_COMENZI VALUES(17,121,1);
INSERT INTO CUPRINS_COMENZI VALUES(17,124,1);
commit;
